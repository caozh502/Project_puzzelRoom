<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dream Echo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 加载覆盖层（游戏启动前预加载资源并显示进度） -->
    <div id="loading-overlay" aria-live="polite" aria-busy="true">
        <div class="loading-content">
            <div class="loading-title">正在加载资源…</div>
            <div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                <div class="progress-fill" id="progress-fill" style="width:0%"></div>
            </div>
            <div class="progress-text" id="progress-text">0%</div>
        </div>
    </div>

    <div id="game-container">
        <div id="scene-intro" class="scene active">
            <!-- 开始闪烁光点（点击开始） -->
            <div id="start-dot" class="start-dot" title="点击开始"></div>
        </div>

        <div id="scene-livingroom" class="scene">
            <div class="label">客厅</div>
            <div id="gift-box" class="interactive-obj">礼物盒</div>
            <div id="aroma-candle" class="interactive-obj">香薰蜡烛</div>
            <div id="switch-console" class="interactive-obj">Switch游戏机</div>
            <div id="snack-box" class="interactive-obj">零食盒</div>
            <div id="shark-plush" class="interactive-obj">鲨鱼玩偶布罗艾</div>
            <div id="fridge-note" class="interactive-obj">冰箱字条</div>
            <div id="tv-cabinet" class="interactive-obj">电视柜</div>
            <div id="photo-frame" class="interactive-obj">相框</div>
            <button class="nav-btn" id="doorToHallwayFromLivingroom" onclick="goToScene('hallway')">去走廊 ⮕</button>
        </div>

        <div id="scene-bedroom" class="scene">
            <div class="label">卧室</div>
            <div id="wardrobe" class="interactive-obj">衣柜</div>
            <div id="landscape-venice-photo" class="interactive-obj">风景照</div>
            <div id="vanity-table" class="interactive-obj">梳妆台</div>
            <div id="bedroom-drawer" class="interactive-obj" aria-disabled="true">抽屉</div>
            <div id="light-switch" class="interactive-obj">开灯</div>
            <button class="nav-btn" id="doorToHallwayFromBedroom" onclick="goToScene('hallway')">⬅ 去走廊</button>
        </div>

        <div id="scene-hallway" class="scene">
            <div class="label">走廊</div>
            <button class="nav-btn" id="doorToLivingroomFromHallway" onclick="goToScene('livingroom')">⬅ 去客厅</button>
            <button class="nav-btn" id="doorToBedroomFromHallway" onclick="goToScene('bedroom')">去卧室 ⮕</button>
            <div class="nav-hint" id="hintToBedroomFromHallway">▼</div>
            <button class="nav-btn" id="doorToStudyFromHallway" onclick="goToScene('study')">去书房 ⮕</button>
            <div id="bathroom-door" class="interactive-obj">浴室</div>
            <div id="swan-photo" class="interactive-obj">天鹅照片</div>
        </div>

        <div id="scene-study" class="scene">
            <div class="label">书房</div>
            <div id="monitor" class="interactive-obj">显示器</div>
            <div id="drawer-cabinet" class="interactive-obj">抽屉柜</div>
            <div id="violin" class="interactive-obj">小提琴</div>
            <div id="guitar" class="interactive-obj">吉他</div>
            <div id="electric-piano" class="interactive-obj">电钢琴</div>
            <div id="bookcase" class="interactive-obj">书柜</div>
            <div id="storage-box" class="interactive-obj">杂物盒</div>
            <div id="startrail-photo" class="interactive-obj">星轨照片</div>
            <div id="sakura-photo" class="interactive-obj">樱花照片</div>
            <div id="sunset-photo" class="interactive-obj">日落照片</div>
            <div id="couple-photo" class="interactive-obj">双人合照</div>
            <div id="balcony-chair" class="interactive-obj">藤椅</div>
            <div id="bbq-grill" class="interactive-obj">烧烤炉</div>
            <button class="nav-btn" id="doorToHallwayFromStudy" onclick="goToScene('hallway')">⬅ 去走廊</button>
            <div class="nav-hint" id="hintToHallwayFromStudy">▼</div>
        </div>

        <div id="dialogue-box" class="hidden">
            <div id="dialogue-text"></div>
        </div>

        <div id="inventory-display" aria-live="polite">
            <button id="inventory-prev" class="inventory-nav" aria-label="上一个">&#9664;</button>
            <span id="inventory-text">无</span>
            <button id="inventory-next" class="inventory-nav" aria-label="下一个">&#9654;</button>
        </div>
        
        <!-- 音频元素 -->
        <audio id="detectiveBGM"></audio>
        <audio id="click-sfx"></audio>
        <audio id="light-sfx"></audio>
        <audio id="startdot-sfx"></audio>
        <audio id="wake-up-sfx"></audio>
        <audio id="door-open-sfx"></audio>
        <audio id="footsteps-sfx"></audio>
        <audio id="guitar-sfx"></audio>
        <audio id="violin-sfx"></audio>
        <audio id="piano-sfx"></audio>
        <audio id="shower-sfx"></audio>
        <audio id="desk-close-sfx"></audio>
        
        <!-- 静音按钮 -->
        <div id="mute-btn">🔊</div>

        <!-- 隐藏互动框按钮 -->
        <div id="hide-btn" title="隐藏互动框">👁️</div>

        <!-- 醒来效果覆盖层（启动时黑屏+淡出） -->
        <div id="wake-overlay"></div>

        <!-- 图片展示覆盖层（显示礼物等图片时） -->
        <div id="image-overlay" class="hidden">
            <img id="overlay-image" alt="overlay">
        </div>

    </div>

    <script src="data/scenes.js"></script>
    <script src="script.js"></script>
</body>
</html>